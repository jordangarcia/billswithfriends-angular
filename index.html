<!DOCTYPE html>
<html ng-app="bills">
	<head>
		<meta name="viewport" content="width=device-width" />
		<title>Bills With Friends</title>
		<link rel="stylesheet" href="/vendor/foundation/foundation.min.css" />
		<link rel="stylesheet" href="/vendor/foundation/top-bar.css" />
		<link rel="stylesheet" href="/lib/css/editable.css" />
		<link rel="stylesheet" href="/lib/css/bills.css" />
	</head>
	<body ng-controller="AppController">
		<header>
			<h4>Bills with Friends</h4>
			<button class="tiny button" ng-click="switch()" ng-bind="switchButtonText">summary</button>
		</header>
		<div class="row" ng-controller="SummaryCtrl" ng-show="mode == 'summary'">
			<ul class="no-bullet personal-items">
				<li class="item-row" ng-repeat="person in people" swiperight="hi">
					<h5 class="name">
						{{person.name}}
					</h5>
					<span class="price">
						{{person.total | currency}}
					</span>
				</li>
				<li class="item-row" ng-repeat="person in people" swiperight="hi">
					<h5 class="name">
						Grand Total:
					</h5>
					<span class="price">
						{{total | currency}}
					</span>
				</li>

			</ul>
		</div>
		<div class="row" ng-controller="PeopleCtrl" ng-show="mode == 'input'">
			<ul class="no-bullet personal-items" ng-repeat="person in people" ng-controller="PersonCtrl">
				<li class="person-header">
					<h3 class="editable name" editable-value="person.name"></h3>
					<span class="total price">
						{{person.total | currency}}
					</span>
				</li>
				<li class="item-row" ng-repeat="item in person.items" swiperight="hi">
					<h5 class="name">
						{{item.name}}
					</h5>
					<span class="price">
						{{item.price | currency}}
					</span>
					<button ng-click="removeItem(item)" class="show-on-swiperight delete-button button tiny alert" type="button">delete</button>
				</li>

				<li class="add-item-row">
					<form class="add-item-form" ng-submit="addItem()">
						<div class="small-6 columns">
							<input placeholder="item" type="text" ng-model="itemName">
						</div>
						<div class="small-3 columns">
							<input placeholder="price" type="tel" ng-model="itemPrice">
						</div>
						<div class="small-3 columns">
							<button class="button small expand" type="submit">Add</button>
						</div>
					</form>
				</li>
				<li class="item-row">
					<h5 class="name">
						tax
					</h5>
					<span class="price">
						{{person.tax | currency}}
					</span>
				</li>
				<li class="item-row">
					<h5 class="name">
						total
					</h5>
					<span class="price">
						{{person.total | currency}}
					</span>
				</li>
			</ul>
			<form class="add-person-row" ng-submit="addPerson()">
				<div class="small-9 columns">
					<input type="text" placeholder="add person" ng-model="personName">
				</div>
				<div class="small-3 columns">
					<button class="small button expand" type="submit">Add</button>
				</div>
			</form>
		</div>
		<script type="text/javascript" src="/vendor/angularjs/angular.min.js"></script>
		<script type="text/javascript" src="/vendor/hammer.js"></script>
		<script type="text/javascript" src="/main.js"></script>
	</body>
</html>
